<?xml version="1.0" encoding="UTF-8"?>
<mod name="Quiz Event" version="1.0" author="YourName" contact="your.email@example.com" enabled="yes">
    <!-- Evento que inicia o quiz -->
    <event type="think" name="quiz_start" event="script"><![CDATA[
        function onThink(interval)
            -- Verifica se o quiz está ativo
            local isActive = getGlobalStorageValue(9876) == 1
            if not isActive then
                return true
            end

            -- Envia uma pergunta para todos os jogadores
            local players = getPlayersOnline()
            for _, pid in ipairs(players) do
                local player = Player(pid)
                if player then
                    doPlayerSendTextMessage(pid, MESSAGE_STATUS_CONSOLE_BLUE, "Quiz Time! Type '/answer [your answer]' to participate.")
                end
            end

            return true
        end
    ]]></event>

    <!-- Evento para iniciar o quiz -->
    <talkaction words="/startquiz" event="script"><![CDATA[
        function onSay(cid, words, param, channelId)
            -- Ativa o quiz
            setGlobalStorageValue(9876, 1)
            doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "The quiz has started! Answer the questions to win prizes!")
            return true
        end
    ]]></talkaction>

    <!-- Evento para resposta do quiz -->
    <talkaction words="/answer" event="script"><![CDATA[
        function onSay(cid, words, param, channelId)
            -- Checa a resposta do quiz
            if param == "correct answer" then
                doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "Congratulations! You answered correctly and received a reward!")
                doPlayerAddMoney(cid, 1000) -- Adiciona prêmio ao vencedor
            else
                doPlayerSendTextMessage(cid, MESSAGE_STATUS_CONSOLE_BLUE, "Incorrect answer. Try again!")
            end
            return true
        end
    ]]></talkaction>
</mod>
